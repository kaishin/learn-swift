<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <meta name="robots" content="noodp, noydir">
  <meta http-equiv="cleartype" content="on">
  <title>Units in Foundation</title>
  <meta name="description" content="Starting iOS 10 and macOS 10.12, Foundation supports units and measurments out of the box, in the form of (NS)Unit and (NS)Measurment respectively.">
  <meta name="keywords" content="swift3, foundation, measurments, dimension, swift, swift-lang, ios, osx, mac, swiftbits, snippets, resources, tips, links">
  
  <meta http-equiv="date" content="2016-12-04 06:55:50 +0100">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://swiftbits.redalemeden.com/basics/units-in-foundation/">
  <link rel="alternate" type="application/rss+xml" title="Swiftbits" href="http://feedpress.me/swiftbits" />
  <script src="//use.typekit.net/jra4cdq.js"></script>
<script>try{Typekit.load();}catch(e){}</script>

  <script>
  !function(g,s,q,r,d){r=g[r]=g[r]||function(){(r.q=r.q||[]).push(
  arguments)};d=s.createElement(q);q=s.getElementsByTagName(q)[0];
  d.src='//d1l6p2sc9645hc.cloudfront.net/tracker.js';q.parentNode.
  insertBefore(d,q)}(window,document,'script','_gs');

  _gs('GSN-781257-D');
</script>

</head>


  <body>
    <!--[if lt IE 10]>
      <div class="browser-upgrade">You are using an outdated browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
    <![endif]-->
    <header class="main-header">
  <section class="header-content" data-role="container">
    <div class="logo">
      <a href="/" class="link">
        <img src="/images/logo.png" alt="Swiftbits logo" class="logo-image" />
      </a>
    </div>
    <div class="intro">
      <div class="intro-content">
        <a href="/" class="link">
          <span class="main-heading">Swiftbits</span>
        </a>
        <p class="main-description">Swift recipes, snippets, and resources.</p>
      </div>
    </div>
  </section>
  <nav class="main-nav">
    <ul class="link-list" data-role="container">
      <li class="link-item">
        <a href="/" >Home</a>
      </li>
      <li class="link-item">
        <a href="/basics" >Basics</a>
      </li>
      <li class="link-item">
        <a href="/resources" >Resources</a>
      </li>
      <li class="link-item-icon">
        <a href="http://feedpress.me/swiftbits" class="icon">
          <img src="/images/rss.svg" alt="RSS Feed" class="link-icon" />
        </a>
      </li>
    </ul>
  </nav>
</header>

    <main class="main-content-box" data-role="container">
      

<article class="post">
  <header class="post-header">
    <div class="post-metadata">
      <time datetime="2016-12-04 06:55:50 +0100">
        Dec 4, 2016 – BASICS
      </time>
    </div>
    <h1 class="post-title">
      <a class="post-link" href="/basics/units-in-foundation/">
        Units in Foundation
      </a>
    </h1>
  </header>

  <section class="post-content">
    
      

      <p class="swift-version">
        Swift version: <strong>3.0</strong> | <a href="https://github.com/kaishin/swiftbits/blob/master/swift/2016-12-04-units-in-foundation.swift">View all code snippets in this post on Github</a>
      </p>
    
    <p>Starting iOS 10 and macOS 10.12, <em>Foundation</em> supports units and measurments out of the box, in the form of <a href="https://developer.apple.com/reference/foundation/unit">(NS)Unit</a> and <a href="https://developer.apple.com/reference/foundation/nsmeasurement">(NS)Measurment</a> respectively.</p>

<p>To get started, let’s import <code class="highlighter-rouge">Foundation</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">Foundation</span>
</code></pre>
</div>

<p>To define a measurment, a <em>value</em> and a <em>unit</em> are needed:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">snorlaxWeight</span> <span class="o">=</span> <span class="kt">Measurement</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mi">460</span><span class="p">,</span> <span class="nv">unit</span><span class="p">:</span> <span class="kt">UnitMass</span><span class="o">.</span><span class="n">kilograms</span><span class="p">)</span>
<span class="c1">// -&gt; 460.0 kg</span>
</code></pre>
</div>

<p>You can then effortlessly convert the measurment to another unit:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">snorlaxWightInImperial</span> <span class="o">=</span> <span class="n">snorlaxWeight</span><span class="o">.</span><span class="nf">converted</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="o">.</span><span class="n">pounds</span><span class="p">)</span>
<span class="c1">// -&gt; 1014.12723328454 lb</span>
</code></pre>
</div>

<p>You can also define your own unit by extending one of the default <a href="https://developer.apple.com/reference/foundation/dimension"><em>dimensions</em></a> available:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">extension</span> <span class="kt">UnitMass</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">snorlax</span> <span class="o">=</span> <span class="kt">UnitMass</span><span class="p">(</span><span class="nv">symbol</span><span class="p">:</span> <span class="s">"snorlax"</span><span class="p">,</span> <span class="nv">converter</span><span class="p">:</span> <span class="kt">UnitConverterLinear</span><span class="p">(</span><span class="nv">coefficient</span><span class="p">:</span> <span class="mi">460</span><span class="p">))</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The converter is used to transform the measurment from any given unit to the base unit of the dimension; Kilograms in the case of <code class="highlighter-rouge">UnitMass</code>. You can inspect the base unit of any dimension by calling <code class="highlighter-rouge">baseUnit()</code> on it.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">UnitMass</span><span class="o">.</span><span class="nf">baseUnit</span><span class="p">()</span>
<span class="c1">// -&gt; kg</span>
</code></pre>
</div>

<p>Once defined, your custom unit can be used alongside the pre-defined ones:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">statueOfLibertyMass</span> <span class="o">=</span> <span class="kt">Measurement</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mi">225_000</span><span class="p">,</span> <span class="nv">unit</span><span class="p">:</span> <span class="kt">UnitMass</span><span class="o">.</span><span class="n">kilograms</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">statueOfLibertyMassInSnorlax</span> <span class="o">=</span> <span class="n">statueOfLibertyMass</span><span class="o">.</span><span class="nf">converted</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="o">.</span><span class="n">snorlax</span><span class="p">)</span>
<span class="c1">// -&gt; 489.130434782609 snorlax</span>
</code></pre>
</div>

<p>You can also define a custom dimension of units by subclassing <code class="highlighter-rouge">Dimension</code> if necessary. Here is an example that defines a new <code class="highlighter-rouge">UnitDataRate</code> class for measuring data transfer rates, often used in Internet speed tests:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">UnitDataRate</span><span class="p">:</span> <span class="kt">Dimension</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">kilobitPerSecond</span> <span class="o">=</span> <span class="kt">UnitDataRate</span><span class="p">(</span><span class="nv">symbol</span><span class="p">:</span> <span class="s">"kbps"</span><span class="p">,</span> <span class="nv">converter</span><span class="p">:</span> <span class="kt">UnitConverterLinear</span><span class="p">(</span><span class="nv">coefficient</span><span class="p">:</span> <span class="mi">1</span><span class="p">))</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">megabitPerSecond</span> <span class="o">=</span> <span class="kt">UnitDataRate</span><span class="p">(</span><span class="nv">symbol</span><span class="p">:</span> <span class="s">"Mbps"</span><span class="p">,</span> <span class="nv">converter</span><span class="p">:</span> <span class="kt">UnitConverterLinear</span><span class="p">(</span><span class="nv">coefficient</span><span class="p">:</span> <span class="mi">1_000</span><span class="p">))</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">gigabitPerSecond</span> <span class="o">=</span> <span class="kt">UnitDataRate</span><span class="p">(</span><span class="nv">symbol</span><span class="p">:</span> <span class="s">"Gbps"</span><span class="p">,</span> <span class="nv">converter</span><span class="p">:</span> <span class="kt">UnitConverterLinear</span><span class="p">(</span><span class="nv">coefficient</span><span class="p">:</span> <span class="mi">1_000_000</span><span class="p">))</span>

  <span class="k">override</span> <span class="kd">class</span> <span class="kd">func</span> <span class="nf">baseUnit</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">UnitDataRate</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">.</span><span class="n">megabitPerSecond</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">speed</span> <span class="o">=</span> <span class="kt">Measurement</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">unit</span><span class="p">:</span> <span class="kt">UnitDataRate</span><span class="o">.</span><span class="n">megabitPerSecond</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">speedInKpbs</span> <span class="o">=</span> <span class="n">speed</span><span class="o">.</span><span class="nf">converted</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="o">.</span><span class="n">kilobitPerSecond</span><span class="p">)</span>

<span class="c1">// -&gt; 100000 kbps</span>
</code></pre>
</div>

<h3 id="learn-more">Learn More</h3>

<ul>
  <li><a href="https://developer.apple.com/videos/play/wwdc2016/238/">WWDC session 238</a></li>
  <li><a href="https://oleb.net/blog/2016/07/measurements-and-units/">Measurements and Units in Foundation</a> by Ole Begemann.</li>
  <li><a href="https://videos.raywenderlich.com/screencasts/ios-10-measurements-units">iOS 10: Measurements &amp; Units Screencast</a> by Sam Davies.</li>
</ul>

<p><img src="/images/snorlax.png" title="A wild Snorlax appears!" width="28" height="28" style="border: none; opacity: 0.7; box-shadow: none; margin: 0;" /></p>


  </section>
</article>


    </main>
    <footer>
  <div class="container">
    <form class="newsletter-form" action="https://feed.press/e/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feed.press/e/mailverify?feed_id=swiftbits', 'popupwindow', 'scrollbars=yes,width=550,height=400');return true">
  <p>Stay updated via email...</p>
  <div class="form-inputs">
    <input type="text" name="email" placeholder="me@example.com">
    <input type="hidden" value="swiftbits" name="feed_id">
    <input type="submit" value="Subscribe">
  </div>
  <p>...or follow Swiftbits on <a href="https://twitter.com/swiftbitsies">Twitter</a>.</p>
</form>

    <p>
      Designed &amp; maintained by <a href="http://redalemeden.com">Reda Lemeden</a><br>
      <a href="https://www.coinbase.com/checkouts/b800c9299c4afe8af704ae9bb4a1b58a">Donate</a> in Bitcoin to keep ads away.
    </p>
  </div>
</footer>

  </body>
</html>
